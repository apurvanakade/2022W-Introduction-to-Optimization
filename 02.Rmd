# Linear programs in two variables

Continuing Example \@ref(resource-allocation-problem), here is one way to see that (2, 2) is indeed the optimal solution. For any constant $c$, the equation 
\begin{equation}
  c = 25x + 30y
  (\#eq:objective-function)
\end{equation}
describes a line in $\mathbb{R}^2$. The points "below" this line have an objective value less than $c$ and the points "above" this line have an objective value greater than $c$. To see that $(2, 2)$ is the optimal solution, we simply need to check that the line of the form \@ref(eq:objective-function), namely, $110 = 25x + 30y$ lies above the feasible region as seen in the following figure.

```{r, resource-allocation-problem-graph, echo=FALSE, warning=FALSE, fig.cap="Objective function graph"}

library(ggplot2)

ggplot() + 
  xlim(0, 200/25) +
  ylim(0, 200/20) +
  geom_vline(xintercept=c(0)) +
  geom_hline(yintercept=c(0)) +
  theme_bw() + 
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 200/80, Inf),
        y = c(0, 200/20, 0, 0)),
      aes(x = x, y = y, fill = "1: 80x + 20y <= 200"),
      inherit.aes = FALSE, alpha = 0.4) + 
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 200/25, Inf),
        y = c(0, 200/75, 0, 0)),
      aes(x = x, y = y, fill = "2: 25x + 75y <= 200"),
      inherit.aes = TRUE, alpha = 0.4) +
  scale_fill_discrete(name = "Constraints") +
  geom_point(aes(x=2, y=2), color = "black") +
  geom_text(aes(x=2, y=2), label="(2, 2)", vjust=-.5, hjust=0) +
  stat_function(fun = function(x) {(110 - 25*x)/30}, color = "black")
```

We can use the same reasoning to solve Exercise \@ref(exr:resource-allocation-problem-extra). 

```{r, resource-allocation-problem-extra, results = 'asis', echo = FALSE}
ex_1_1_lp <- new_linear_program(
  obj = c(25, 30),
  A = matrix(c(80, 20, 25, 75, 1, 1), nrow = 2, byrow = TRUE),
  b = c(200, 200, 3),
  variables = c('x', 'y')
)

cat(str_math(ex_1_1_lp))
```
for which the constraints look like 

```{r, resource-allocation-problem-extra-constraints, echo=FALSE, fig.cap = "Resource allocation problem with an added constraint"}

library(ggplot2)

ggplot() + 
  xlim(0, 200/25) +
  ylim(0, 200/20) +
  geom_vline(xintercept=c(0)) +
  geom_hline(yintercept=c(0)) +
  theme_bw() + 
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 200/80, Inf),
        y = c(0, 200/20, 0, 0)),
      aes(x = x, y = y, fill = "1: 80x + 20y <= 200"),
      inherit.aes = FALSE, alpha = 0.4) + 
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 200/25, Inf),
        y = c(0, 200/75, 0, 0)),
      aes(x = x, y = y, fill = "2: 25x + 75y <= 200"),
      inherit.aes = TRUE, alpha = 0.4) +
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 3, Inf),
        y = c(0, 3, 0, 0)),
      aes(x = x, y = y, fill = "3: x + y <= 3"),
      inherit.aes = TRUE, alpha = 0.4) +
  scale_fill_discrete(name = "Constraints")
```
In this case, the equation for 

```{r, resource-allocation-problem-extra-graph, echo=FALSE, warning=FALSE, fig.cap = "Optimal solution for the resource allocation problem with an added constraint"}

library(ggplot2)

ggplot() + 
  xlim(0, 200/25) +
  ylim(0, 200/20) +
  geom_vline(xintercept=c(0)) +
  geom_hline(yintercept=c(0)) +
  theme_bw() + 
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 200/80, Inf),
        y = c(0, 200/20, 0, 0)),
      aes(x = x, y = y, fill = "1: 80x + 20y <= 200"),
      inherit.aes = FALSE, alpha = 0.4) + 
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 200/25, Inf),
        y = c(0, 200/75, 0, 0)),
      aes(x = x, y = y, fill = "2: 25x + 75y <= 200"),
      inherit.aes = TRUE, alpha = 0.4) +
  geom_polygon(
      data = data.frame(
        x = c(0, 0, 3, Inf),
        y = c(0, 3, 0, 0)),
      aes(x = x, y = y, fill = "3: x + y <= 3"),
      inherit.aes = TRUE, alpha = 0.4) +
  scale_fill_discrete(name = "Constraints") + 
  stat_function(fun = function(x) {((0.5 * 25 + 2.5 * 30) - 25*x)/30}, color = "black") +
  geom_point(aes(x=0.5, y=2.5), color = "black") +
  geom_text(aes(x=0.5, y=2.5), label="(0.5, 2.5)", vjust=-.5, hjust=0)
```

Surprisingly, there is no way to do this systematically using algebra! And so there is no efficient algorithm to implement this method.